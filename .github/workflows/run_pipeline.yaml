name: Ejecuto el Proyecto turb
run-name: ${{ github.actor }} estÃ¡ ejecutando snakemake ğŸ
on: [push]
  # schedule:
  # - cron: '0 10 * * *'
jobs:
  Ejecuto-Proyecto-turb-2024:
    runs-on: ubuntu-latest
    env:
      S2MSI_USERNAME: ${{ secrets.S2MSI_USERNAME }}
      S2MSI_PASSWORD: ${{ secrets.S2MSI_PASSWORD }}
    steps:
      - run: echo "ğŸ‰ Tareas activadas automÃ¡ticamente debido a un evento ${{ github.event_name }}"
      - run: echo "ğŸ§ Las tareas estÃ¡n corriendo en un servidor ${{ runner.os }} alojado en GitHub"
      - run: echo "ğŸ” El nombre del branch es ${{ github.ref }} y su repositorio es ${{ github.repository }}"
      - name: Verificar el cÃ³digo del repositorio
        uses: actions/checkout@v3
      - run: echo "ğŸ’¡ El repositorio ${{ github.repository }} ha sido clonado en el runner"
      - run: echo "ğŸ–¥ï¸ Las secuencias estÃ¡n listas para chequear su cÃ³digo en el runner"
      - uses: actions/setup-python@v5
      - name: secuencia Snakemake
        uses: snakemake/snakemake-github-action@v1
        with:
          directory: '.'
          snakefile: 'Snakefile'
          args: '--cores 1 --use-conda --conda-cleanup-pkgs cache'
          stagein: '' # additional preliminary commands to run (can be multiline)}
      - name: Configuro git en el runner
        run: |
          git config --local user.email "noreply@github.com"
          git config --local user.name "GitHub"
      - name: Commit de los cambios en el repositorio
        run: |
          git add .
          git commit -m "Ãšltima valor de turbidez estimada"
          git push origin main
      - run: echo "ğŸ El estado final es = ${{ job.status }}."
